{"ast":null,"code":"import React,{useEffect,useState}from'react';import{BrowserRouter as Router,Routes,Route,useNavigate}from'react-router-dom';import LoginPage from'./components/LoginPage';import RegisterPage from'./components/RegisterPage';import ProjectDashboard from'./components/ProjectDashboard';import ProjectCreatePage from'./components/ProjectCreatePage';import ProjectDetailsPage from'./components/ProjectDetails';import ProjectUploadPage from'./components/DocumentUpload';import ProjectMembersPage from'./components/ProjectMembers';import{Navigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PrivateRoute=_ref=>{let{children}=_ref;const navigate=useNavigate();const[isAuthenticated,setIsAuthenticated]=useState(false);useEffect(()=>{const accessToken=localStorage.getItem('access');if(!accessToken){navigate('/login');}else{setIsAuthenticated(true);}},[navigate]);if(!isAuthenticated){return null;// или можно вернуть spinner, если нужно\n}return children;};function App(){return/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/\",element:localStorage.getItem('access')?/*#__PURE__*/_jsx(Navigate,{to:\"/projects\"}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})}),/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(LoginPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(RegisterPage,{})}),/*#__PURE__*/_jsx(Route,{path:\"/projects\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(ProjectDashboard,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/projects/create\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(ProjectCreatePage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/projects/:id\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(ProjectDetailsPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/projects/:id/upload\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(ProjectUploadPage,{})})}),/*#__PURE__*/_jsx(Route,{path:\"/projects/:id/members\",element:/*#__PURE__*/_jsx(PrivateRoute,{children:/*#__PURE__*/_jsx(ProjectMembersPage,{})})})]})});}export default App;","map":{"version":3,"names":["React","useEffect","useState","BrowserRouter","Router","Routes","Route","useNavigate","LoginPage","RegisterPage","ProjectDashboard","ProjectCreatePage","ProjectDetailsPage","ProjectUploadPage","ProjectMembersPage","Navigate","jsx","_jsx","jsxs","_jsxs","PrivateRoute","_ref","children","navigate","isAuthenticated","setIsAuthenticated","accessToken","localStorage","getItem","App","path","element","to"],"sources":["C:/Users/Moldabek Jora/PycharmProjects/Web_back_project/webback_frontend/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { BrowserRouter as Router, Routes, Route, useNavigate } from 'react-router-dom';\r\nimport LoginPage from './components/LoginPage';\r\nimport RegisterPage from './components/RegisterPage';\r\nimport ProjectDashboard from './components/ProjectDashboard';\r\nimport ProjectCreatePage from './components/ProjectCreatePage';\r\nimport ProjectDetailsPage from './components/ProjectDetails';\r\nimport ProjectUploadPage from './components/DocumentUpload';\r\nimport ProjectMembersPage from './components/ProjectMembers';\r\nimport { Navigate } from 'react-router-dom';\r\n\r\nconst PrivateRoute = ({ children }) => {\r\n  const navigate = useNavigate();\r\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const accessToken = localStorage.getItem('access');\r\n    if (!accessToken) {\r\n      navigate('/login');\r\n    } else {\r\n      setIsAuthenticated(true);\r\n    }\r\n  }, [navigate]);\r\n\r\n  if (!isAuthenticated) {\r\n    return null; // или можно вернуть spinner, если нужно\r\n  }\r\n\r\n  return children;\r\n};\r\n\r\nfunction App() {\r\n  return (\r\n    <Router>\r\n      <Routes>\r\n        <Route path=\"/\" element={\r\n          localStorage.getItem('access') ? <Navigate to=\"/projects\" /> : <Navigate to=\"/login\" />\r\n        } />\r\n        <Route path=\"/login\" element={<LoginPage />} />\r\n        <Route path=\"/register\" element={<RegisterPage />} />\r\n        <Route path=\"/projects\" element={<PrivateRoute><ProjectDashboard /></PrivateRoute>} />\r\n        <Route path=\"/projects/create\" element={<PrivateRoute><ProjectCreatePage /></PrivateRoute>} />\r\n        <Route path=\"/projects/:id\" element={<PrivateRoute><ProjectDetailsPage /></PrivateRoute>} />\r\n        <Route path=\"/projects/:id/upload\" element={<PrivateRoute><ProjectUploadPage /></PrivateRoute>} />\r\n        <Route path=\"/projects/:id/members\" element={<PrivateRoute><ProjectMembersPage /></PrivateRoute>} />\r\n      </Routes>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n\r\n\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}